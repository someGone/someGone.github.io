import{_ as u,T as l,o as h,c as x,d as o,e as n,w as r,u as p,g as w,p as B,f as _,U as b,C as y,F}from"./index.461c5154.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{_ as C}from"./upload_photo.4d6ea4f1.js";import{_ as k}from"./upload.d4d89b0f.js";const V={setup(){const{proxy:e}=w();return{proxy:e}},data(){return{info:{telephone:"",slogan:"",intro:"",mainCover:[],imageList:[],mobile:""},feedBack:!1,portrait:"",coverList:[]}},created(){l.loading({message:"",forbidClick:!0}),this.proxy.$api.gymInfo().then(e=>{console.log(e);let t=[],g=e.data.imageList.split(",");this.coverList=e.data.imageList.split(","),g.forEach(d=>{t.push({url:d})}),this.info={telephone:e.data.telephone,slogan:e.data.slogan,intro:e.data.intro,mainCover:[{url:e.data.mainCover}],imageList:t,mobile:e.data.mobile}}).catch(e=>{l({message:e.message,position:"top"})})},mounted(){},methods:{afterRead(e){this.updata("gym/logo",e.file,1)},Environment(e){this.updata("gym/env",e.file,2)},updata(e,t,g){let d=new FormData;d.append("dir",e),d.append("file",t),this.proxy.$api.commonUpload(d).then(i=>{g==1?this.portraitImg(i.data.url):this.coverListImg(i.data.url)}).catch(i=>{l({message:i.message,position:"top"})})},portraitImg(e){this.portrait=e},coverListImg(e){this.coverList.push(e)},submit(){if(this.portrait==""&&this.info.mainCover.length==0){l({message:"\u8BF7\u4E0A\u4F20logo\uFF01",position:"top"});return}if(this.info.telephone==""){l({message:"\u5EA7\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A",position:"top"});return}if(this.info.imageList.length==0){l({message:"\u73AF\u5883\u5C01\u9762\u4E0D\u80FD\u4E3A\u7A7A",position:"top"});return}let e={imageList:this.coverList.toString(),intro:this.info.intro,logo:this.portrait==""?this.info.mainCover[0].url:this.portrait,mainCover:this.coverList[0],slogan:this.info.slogan,telephone:this.info.telephone};this.proxy.$api.gymUpdate(e).then(t=>{l({message:"\u63D0\u4EA4\u6210\u529F",position:"top"}),setTimeout(()=>{this.$router.go(-1)},1e3)}).catch(t=>{l({message:t.message,position:"top"})})}}},s=e=>(B("data-v-2844c99a"),e=e(),_(),e),S={class:"login"},L={class:"loginBoxB"},I={class:"vanFieldBox"},P=s(()=>o("div",{class:"titleName"},[o("span",null,"LOGO:")],-1)),z=s(()=>o("img",{src:C,style:{width:"106px",height:"106px"}},null,-1)),U={class:"vanFieldBox"},N=s(()=>o("div",{class:"titleName"},[o("span",null,"\u624B\u673A\u53F7:")],-1)),R={class:"vanFieldBox"},T=s(()=>o("div",{class:"titleName"},[o("span",null,"\u5EA7\u673A\u53F7:")],-1)),G={class:"feedbackBox"},j=s(()=>o("div",{class:"feedBackTest"},"\u5065\u8EAB\u623F\u6807\u8BED\uFF1A",-1)),E={class:"feedbackBox"},D=s(()=>o("div",{class:"feedBackTest"},"\u5065\u8EAB\u623F\u4ECB\u7ECD\uFF1A",-1)),A={class:"vanFieldBox"},O=s(()=>o("div",{class:"titleName"},[o("span",null,"\u73AF\u5883\u7167\u7247:")],-1)),M=s(()=>o("img",{src:k,style:{width:"106px",height:"106px"}},null,-1)),q={class:"submitBox"};function H(e,t,g,d,i,f){const c=b,m=F,v=y;return h(),x("div",S,[o("div",L,[o("div",null,[o("div",I,[P,n(c,{modelValue:i.info.mainCover,"onUpdate:modelValue":t[0]||(t[0]=a=>i.info.mainCover=a),"preview-size":[106,106],multiple:"","max-count":1,class:"logoImg","after-read":f.afterRead},{default:r(()=>[z]),_:1},8,["modelValue","after-read"])]),o("div",U,[N,n(v,{inset:"",class:"vanField"},{default:r(()=>[n(m,{modelValue:i.info.mobile,"onUpdate:modelValue":t[1]||(t[1]=a=>i.info.mobile=a),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u8054\u7CFB\u65B9\u5F0F",type:"number",maxlength:"11",disabled:""},null,8,["modelValue"])]),_:1})]),o("div",R,[T,n(v,{inset:"",class:"vanField"},{default:r(()=>[n(m,{modelValue:i.info.telephone,"onUpdate:modelValue":t[2]||(t[2]=a=>i.info.telephone=a),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u8054\u7CFB\u65B9\u5F0F",type:"number",maxlength:"11"},null,8,["modelValue"])]),_:1})]),o("div",G,[j,n(v,{inset:"",class:"groupBox",style:p(i.feedBack?"border: 2px solid #40A9FF":"border: 2px solid #ffffff")},{default:r(()=>[n(m,{modelValue:i.info.slogan,"onUpdate:modelValue":t[3]||(t[3]=a=>i.info.slogan=a),autosize:"",type:"textarea",placeholder:"",maxlength:"50"},null,8,["modelValue"])]),_:1},8,["style"])]),o("div",E,[D,n(v,{inset:"",class:"groupBox",style:p(i.feedBack?"border: 2px solid #40A9FF":"border: 2px solid #ffffff")},{default:r(()=>[n(m,{modelValue:i.info.intro,"onUpdate:modelValue":t[4]||(t[4]=a=>i.info.intro=a),autosize:"",type:"textarea",placeholder:"",maxlength:"200"},null,8,["modelValue"])]),_:1},8,["style"])]),o("div",A,[O,n(c,{modelValue:i.info.imageList,"onUpdate:modelValue":t[5]||(t[5]=a=>i.info.imageList=a),"preview-size":[106,106],multiple:"","max-count":5,class:"logoImg","after-read":f.Environment},{default:r(()=>[M]),_:1},8,["modelValue","after-read"])])]),o("div",q,[o("div",{class:"submit",onClick:t[6]||(t[6]=(...a)=>f.submit&&f.submit(...a))},"\u4FDD\u5B58")])])])}var $=u(V,[["render",H],["__scopeId","data-v-2844c99a"]]);export{$ as default};
