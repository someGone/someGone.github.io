import{_ as F,T as r,Z as c,$ as w,o as d,c as g,d as o,e as l,w as a,n as h,g as C,p as y,f as _,C as B,B as k,t as p,i as b,F as P}from"./index.461c5154.js";/* empty css              *//* empty css              *//* empty css              */import{M as R,a as S}from"./mark_n.5bf85ef9.js";import{_ as x}from"./logo.c7839add.js";const G={setup(){const{proxy:i}=C();return{proxy:i}},data(){return{resetPasswordGreen:0,vanFieldName:0,passwordShow:!1,inputGreen:!1,vanFieldGreen:!1,info:{code:"",mobile:""},time:60,times:60,sendTimer:null,sendTimers:null,registered:{},isChain:!0}},created(){},mounted(){},methods:{protocalClick(){this.isChain=!this.isChain},showProtocal(){this.$router.push("/cooperationProtocal")},getCheckImg(i){return this.isChain?R:S},login(){if(!this.isChain){this.$toast("\u8BF7\u540C\u610F\u5408\u4F5C\u63A8\u5E7F\u534F\u8BAE");return}if(console.log("\u767B\u5F55",this.info),!this.checkPhone(this.info.mobile))return;if(this.info.code.length<6){r({message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u5C0F\u4E8E6\u4F4D!",position:"top"});return}let i=new FormData;i.append("mobile",this.info.mobile),i.append("code",this.info.code),this.proxy.$api.distributorLogin(i).then(e=>{c(e.data.token),w(e.data),r({message:"\u767B\u5F55\u6210\u529F\uFF01",position:"top"}),setTimeout(()=>{this.$router.replace("/dealersRecord")},1e3)}).catch(e=>{r({message:e.message,position:"top"})})},registeredLogin(){if(!this.isChain){this.$toast("\u8BF7\u540C\u610F\u5408\u4F5C\u63A8\u5E7F\u534F\u8BAE");return}if(!!this.checkPhone(this.registered.mobile)){if(this.registered.name==""){r({message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A!",position:"top"});return}if(this.registered.idCard.length<18){r({message:"\u8EAB\u4EFD\u8BC1\u53F7\u9519\u8BEF!",position:"top"});return}if(this.registered.code.length<6){r({message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u5C0F\u4E8E6\u4F4D!",position:"top"});return}this.proxy.$api.distributorRegister(this.registered).then(i=>{c(i.data.token),w(i.data),r({message:"\u6CE8\u518C\u6210\u529F\uFF01",position:"top"}),setTimeout(()=>{this.$router.replace("/dealersRecord")},1e3)}).catch(i=>{r({message:i.message,position:"top"})})}},focus(i){this.vanFieldName=i},blur(i){this.vanFieldName=0},sendCode(){if(console.log("\u767B\u5F55",this.mobile),!!this.checkPhone(this.mobile)){var i={mobile:this.mobile};this.proxy.$api.getPhoneCode(i).then(e=>{this.isSending=!0,this.time--,this.sendTimer=setInterval(()=>{this.time--,this.time<=0&&(this.time=60,clearInterval(this.sendTimer))},1e3)})}},sendCodeRegister(){if(!!this.checkPhone(this.registered.mobile)){var i={mobile:this.registered.mobile};this.proxy.$api.getPhoneCode(i).then(e=>{this.isSending=!0,this.times--,this.sendTimers=setInterval(()=>{this.times--,this.times<=0&&(this.times=60,clearInterval(this.sendTimers))},1e3)})}},checkPhone(i){return/^[1][3,4,5,7,8][0-9]{9}$/.test(i)?!0:(r({message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7!",position:"top"}),!1)},focusinputGreen(){this.vanFieldGreen=!0,this.inputGreen=!1},blurinputGreen(){this.vanFieldGreen=!1},resetfocus(i){this.resetPasswordGreen=i},resetblur(i){this.resetPasswordGreen=0,i==3&&(this.infoPass.password.length<8?this.a="vanFieldRed":this.a="vanField"),i==4&&(this.infoPass.rePassword.length<8?this.b="vanFieldRed":this.b="vanField")}}},u=i=>(y("data-v-b967f754"),i=i(),_(),i),V={class:"login"},N={key:0,class:"loginBoxB"},I={class:"loginBox"},z=u(()=>o("img",{src:x,alt:"",class:"loginImg"},null,-1)),T={class:"vanFieldBox"},L={class:"vanFieldBox"},j={key:1,class:"sendCodeL"},U={class:"forgetPassword"},D=b("\u6210\u4E3A\u7ECF\u9500\u5546"),M={class:"protocal"},E=["src"],Z={key:1,class:"loginBoxB"},q={class:"loginBoxR"},A=u(()=>o("img",{src:x,alt:"",class:"loginImg"},null,-1)),H={class:"vanFieldBox"},J=u(()=>o("div",{class:"titleName"},[o("span",null,"\u59D3\u540D:")],-1)),K={class:"vanFieldBox"},O=u(()=>o("div",{class:"titleName"},[o("span",null,"\u8EAB\u4EFD\u8BC1\u53F7:")],-1)),Q={class:"vanFieldBox"},W=u(()=>o("div",{class:"titleName"},[o("span",null,"\u624B\u673A\u53F7:")],-1)),X={class:"vanFieldBox"},Y=u(()=>o("div",{class:"titleName"},[o("span",null,"\u9A8C\u8BC1\u7801:")],-1)),$={key:1,class:"sendCodeL"},ee={class:"forgetPassword"},te=b("\u6210\u4E3A\u7ECF\u9500\u5546"),ie={class:"protocal"},ne=["src"];function oe(i,e,se,le,s,n){const f=P,v=B,m=k;return d(),g("div",V,[s.passwordShow?(d(),g("div",N,[o("div",I,[z,o("div",T,[l(v,{inset:"",class:h(s.vanFieldGreen?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.info.mobile,"onUpdate:modelValue":e[0]||(e[0]=t=>s.info.mobile=t),label:"+86 ",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",type:"number",maxlength:"11",onFocus:n.focusinputGreen,onBlur:n.blurinputGreen},null,8,["modelValue","onFocus","onBlur"])]),_:1},8,["class"])]),o("div",L,[l(v,{inset:"",class:h(s.resetPasswordGreen==2?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.info.code,"onUpdate:modelValue":e[2]||(e[2]=t=>s.info.code=t),placeholder:"\u8F93\u5165\u9A8C\u8BC1\u7801",type:"number",maxlength:"6",onFocus:e[3]||(e[3]=t=>n.resetfocus(2)),onBlur:e[4]||(e[4]=t=>n.resetblur(2))},{button:a(()=>[s.time==60?(d(),g("div",{key:0,onClick:e[1]||(e[1]=(...t)=>n.sendCode&&n.sendCode(...t)),class:"getCodeL"}," \u83B7\u53D6\u9A8C\u8BC1\u7801 ")):(d(),g("div",j,"\u91CD\u65B0\u53D1\u9001("+p(s.time)+")",1))]),_:1},8,["modelValue"])]),_:1},8,["class"])]),o("div",U,[o("span",{class:"forgetPasswordText",onClick:e[5]||(e[5]=t=>s.passwordShow=!1)},"\u6682\u65E0\u8D26\u53F7\uFF0C\u70B9\u51FB\u6CE8\u518C")]),l(m,{type:"primary",class:"btnLogin",onClick:n.login},{default:a(()=>[D]),_:1},8,["onClick"]),o("view",M,[o("img",{src:n.getCheckImg(),onClick:e[6]||(e[6]=(...t)=>n.protocalClick&&n.protocalClick(...t))},null,8,E),o("text",{onClick:e[7]||(e[7]=(...t)=>n.showProtocal&&n.showProtocal(...t))},"\u5DF2\u9605\u8BFB\u5E76\u540C\u610F\u300A\u6C22\u677E\u7EC3\u5408\u4F5C\u63A8\u5E7F\u534F\u8BAE\u300B")])])])):(d(),g("div",Z,[o("div",q,[A,o("div",H,[J,l(v,{inset:"",class:h(s.vanFieldName==1?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.registered.name,"onUpdate:modelValue":e[8]||(e[8]=t=>s.registered.name=t),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u59D3\u540D",type:"text",maxlength:"8",onFocus:e[9]||(e[9]=t=>n.focus(1)),onBlur:e[10]||(e[10]=t=>n.blur(1))},null,8,["modelValue"])]),_:1},8,["class"])]),o("div",K,[O,l(v,{inset:"",class:h(s.vanFieldName==2?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.registered.idCard,"onUpdate:modelValue":e[11]||(e[11]=t=>s.registered.idCard=t),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u8EAB\u4EFD\u8BC1\u53F7",type:"text",maxlength:"18",onFocus:e[12]||(e[12]=t=>n.focus(2)),onBlur:e[13]||(e[13]=t=>n.blur(2))},null,8,["modelValue"])]),_:1},8,["class"])]),o("div",Q,[W,l(v,{inset:"",class:h(s.vanFieldName==3?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.registered.mobile,"onUpdate:modelValue":e[14]||(e[14]=t=>s.registered.mobile=t),placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u53F7",type:"number",maxlength:"11",onFocus:e[15]||(e[15]=t=>n.focus(3)),onBlur:e[16]||(e[16]=t=>n.blur(3))},null,8,["modelValue"])]),_:1},8,["class"])]),o("div",X,[Y,l(v,{inset:"",class:h(s.vanFieldName==4?"vanFieldGreen":"vanField")},{default:a(()=>[l(f,{modelValue:s.registered.code,"onUpdate:modelValue":e[18]||(e[18]=t=>s.registered.code=t),placeholder:"\u8F93\u5165\u9A8C\u8BC1\u7801",type:"number",maxlength:"6",onFocus:e[19]||(e[19]=t=>n.focus(4)),onBlur:e[20]||(e[20]=t=>n.blur(4))},{button:a(()=>[s.times==60?(d(),g("div",{key:0,onClick:e[17]||(e[17]=(...t)=>n.sendCodeRegister&&n.sendCodeRegister(...t)),class:"getCodeL"}," \u83B7\u53D6\u9A8C\u8BC1\u7801 ")):(d(),g("div",$,"\u91CD\u65B0\u53D1\u9001("+p(s.times)+")",1))]),_:1},8,["modelValue"])]),_:1},8,["class"])]),o("div",ee,[o("span",{class:"forgetPasswordText",onClick:e[21]||(e[21]=t=>s.passwordShow=!0)}," \u5DF2\u6709\u8D26\u53F7\uFF0C\u76F4\u63A5\u767B\u5F55")]),l(m,{type:"primary",class:"btnLogin",onClick:n.registeredLogin},{default:a(()=>[te]),_:1},8,["onClick"]),o("view",ie,[o("img",{src:n.getCheckImg(),onClick:e[22]||(e[22]=(...t)=>n.protocalClick&&n.protocalClick(...t))},null,8,ne),o("text",{onClick:e[23]||(e[23]=(...t)=>n.showProtocal&&n.showProtocal(...t))},"\u5DF2\u9605\u8BFB\u5E76\u540C\u610F\u300A\u6C22\u677E\u7EC3\u5408\u4F5C\u63A8\u5E7F\u534F\u8BAE\u300B")])])]))])}var he=F(G,[["render",oe],["__scopeId","data-v-b967f754"]]);export{he as default};
