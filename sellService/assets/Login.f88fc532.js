import{_ as v,s as g,o as f,c as x,w as a,g as y,r,a as s,b as l,d as u,t as S,n as b,p as k,e as C}from"./index.dc46fca2.js";var V="/sellService/assets/logo.b28bdd42.png";const w={setup(){const{proxy:e}=y();return{proxy:e}},data(){return{phone:"",code:"",sendText:"\u53D1\u9001\u9A8C\u8BC1\u7801",time:60,isSending:!1,sendTimer:null,notMyShow:!1,loginSuccessRe:"/",themes:{buttonDefaultBackgroundColor:"#DDFF55",buttonSmallHeight:"30px",buttonBorderWidth:"0px",buttonBorderRadius:"5px",buttonSmallFontSize:"14px",buttonDefaultColor:"#000000",buttonSmallPadding:"10px 20px 10px 20px",countDownTextColor:"rgba(0,0,0,0.5)"}}},mounted(){var e=this.$route.query.redirect;e!=null&&(this.loginSuccessRe=e)},methods:{checkPhone(){return/^[1][3,4,5,7,8][0-9]{9}$/.test(this.phone)?!0:(this.$toast("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7"),!1)},sendCodeClick(){if(!this.isSending&&!!this.checkPhone()){var e={captchaType:"login",mobile:this.phone};this.proxy.$api.getPhoneCode(e).then(t=>{this.isSending=!0,this.time--,this.sendText=`${this.time}s\u540E\u91CD\u65B0\u83B7\u53D6`,this.sendTimer=setInterval(()=>{this.time--,this.time<=0?(this.time=60,this.isSending=!1,clearInterval(this.sendTimer),this.sendText="\u53D1\u9001\u9A8C\u8BC1\u7801"):this.sendText=`${this.time}s\u540E\u91CD\u65B0\u83B7\u53D6`},1e3)})}},loginClick(){if(!!this.checkPhone()){if(this.code==""){this.$toast("\u8BF7\u8F93\u5165\u60A8\u7684\u624B\u673A\u9A8C\u8BC1\u7801");return}var e={loginType:2,mobile:this.phone,credential:this.code};this.proxy.$api.phoneLogin(e).then(t=>{var c=t.data.token;console.log("\u767B\u5F55token",c),g(c),this.$router.replace(this.loginSuccessRe)}).catch(t=>{t.code==422&&(this.notMyShow=!0)})}}}},n=e=>(k("data-v-5f47f8c8"),e=e(),C(),e),T={class:"mainPage"},B=n(()=>s("img",{class:"topImg",src:V},null,-1)),I=n(()=>s("div",{class:"marginV",style:{"--mH":"78px"}},null,-1)),D=n(()=>s("div",{class:"marginV",style:{"--mH":"40px"}},null,-1)),P={class:"rowSpace input"},H=n(()=>s("div",{style:{height:"82px"}},null,-1)),M=u("\u767B\u5F55"),R={class:"wrapper"},z={class:"overCenterV"},F=n(()=>s("div",{class:"marginV",style:{"--mH":"38px"}},null,-1)),L=n(()=>s("text",{class:"norText"},"\u60A8\u4E0D\u662F\u6211\u4EEC\u7684\u5458\u5DE5",-1)),N=n(()=>s("div",{class:"marginV",style:{"--mH":"80px"}},null,-1));function $(e,t,c,U,o,d){const h=r("van-field"),p=r("van-button"),_=r("van-overlay"),m=r("van-config-provider");return f(),x(m,{"theme-vars":o.themes},{default:a(()=>[s("div",T,[B,I,l(h,{class:"input",modelValue:o.phone,"onUpdate:modelValue":t[0]||(t[0]=i=>o.phone=i),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",type:"number"},null,8,["modelValue"]),D,s("div",P,[l(h,{modelValue:o.code,"onUpdate:modelValue":t[1]||(t[1]=i=>o.code=i),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",type:"number"},null,8,["modelValue"]),l(p,{onClick:d.sendCodeClick,type:"default",size:"large",class:"sendCodeV",style:b(o.isSending?"--c:rgba(0,0,0,0.3);--fc:white":"--c:rgba(221, 255, 85, 1);--fc:#1b1b1b")},{default:a(()=>[u(S(o.sendText),1)]),_:1},8,["onClick","style"])]),H,l(p,{class:"loginBtn",onClick:d.loginClick},{default:a(()=>[M]),_:1},8,["onClick"]),l(_,{show:o.notMyShow,onClick:t[3]||(t[3]=i=>o.notMyShow=!1)},{default:a(()=>[s("div",R,[s("div",z,[F,L,N,s("text",{class:"blackBtn",onClick:t[2]||(t[2]=i=>o.notMyShow=!1)},"\u786E\u5B9A")])])]),_:1},8,["show"])])]),_:1},8,["theme-vars"])}var W=v(w,[["render",$],["__scopeId","data-v-5f47f8c8"]]);export{W as default};
